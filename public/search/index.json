[{"content":"引言 在本博客的评论系统接入邮箱提醒时，用到了outlook的smtp服务，但是在使用时却发现没有邮件提醒。\n查看日志 于是上vercel看了一下日志，如下图：\nvercel部署的waline项目——发送邮件提醒报错\r报错堆栈如下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Mail send fail: Error: Invalid login: 535 5.7.139 Authentication unsuccessful, basic authentication is disabled. [CH0PR13CA0024.namprd13.prod.outlook.com 2024-11-15T12:41:27.364Z 08DD02E8CBA00082] at SMTPConnection._formatError (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:807:19) at SMTPConnection._actionAUTHComplete (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:1586:34) at SMTPConnection.\u0026lt;anonymous\u0026gt; (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:1540:18) at SMTPConnection._processResponse (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:991:20) at SMTPConnection._onData (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:772:14) at TLSSocket.SMTPConnection._onSocketData (/var/task/node_modules/nodemailer/lib/smtp-connection/index.js:195:44) at TLSSocket.emit (node:events:519:28) at TLSSocket.emit (node:domain:488:12) at addChunk (node:internal/streams/readable:559:12) at readableAddChunkPushByteMode (node:internal/streams/readable:510:3) { code: \u0026#39;EAUTH\u0026#39;, response: \u0026#39;535 5.7.139 Authentication unsuccessful, basic authentication is disabled. [CH0PR13CA0024.namprd13.prod.outlook.com 2024-11-15T12:41:27.364Z 08DD02E8CBA00082]\u0026#39;, responseCode: 535, command: \u0026#39;AUTH LOGIN\u0026#39; } 此文章来源 在waline的discussions貌似没人提出这个问题，可能是只有我在用Outlook吧\u0026hellip;\n看第一行就行：Mail send fail: Error: Invalid login: 535 5.7.139 Authentication unsuccessful, basic authentication is disabled.，意思是说outlook的smtp服务不支持basic authentication。\n我搜了一下，发现Outlook在24年9月16日停止了个人用户对基础身份验证的支持，推荐使用OAuth2认证。详见 | Microsoft 官网\n但是我没在waline文档里发现支持OAuth2。\n自己写插件吗？\n似乎没有必要为了一个评论系统写，毕竟人的精力是有限的（我才不会说是我菜）\n解决方案 于是就有了今天的主角：sendas.email\n我这里就用作者部署好的项目，就不再重新部署了。 如果你想自己部署，可以先fork一下作者的项目，然后自己部署。 部署方法如下图：\n部署方法\r开始解决 进入sendas.email，然后滚轮滑倒最下方，点击Sign in with Microsoft\nSign in with Microsoft | sendas.email\r登录时，Microsoft会提示你是否允许第三方应用访问你的账号，点击接受即可。\n是否授权\r授权之后Microsoft账户团队就会发一个邮件提醒：\n邮件提醒\r此时回到sendas.email,网站自动重定向到了configuration页面,页面如下图所示：\n显示新的用户名+密码\r修改环境变量 下面回到vercel的部署，将之前的密码换成新的密码即可。\n对应关系\r请注意，如果你之前使用的是SMTP_SERVICE，那么现在需要删除掉这个，然后新增SMTP_HOST和SMTP_PORT.\n使用的是SMTP_SERVICE\r完成vercel的环境变量配置，如下图：\n邮箱配置\r重启项目，然后就可以正常发送邮件了。\n重启项目\r附录 参考 waline discussions | Github sendas.email | 这次的主角(this target) Gmail-to-outlook-proxy | Github Gmail Help | 谷歌邮箱 Community 更新政策 | Microsoft 官网 错误的微软凭据 | Microsoft 版权信息 本文原载于 彩虹兔の博客，遵循 CC BY-NC-SA 4.0 协议，复制请保留原文出处。\n","date":"2024-11-15T22:57:11+08:00","image":"https://picsum.photos/800/600.webp?random=643ac937","permalink":"http://localhost:1313/2024/outlook-smtp-oauth2-error/","title":"Outlook邮箱的Smtp服务出现Oauth2认证失败错误"},{"content":"引言 每次看到有大佬的 Github 主页很炫酷，自己总是羡慕不已，那些大佬真是厉害，不仅技术强，就连 Github 个人主页都酷的一批。\n于是我便查阅资料，最终决定美化一下自己的 Github 主页 （虽然我是个小菜鸡，什么开源好项目都没写出来\u0026hellip;）\n个人主页的美化 GitHub 支持定制主页，相关文档：设置和管理 GitHub 配置文件 | Github 官方文档\n新建仓库 在自己的 Github 主页中新建一个仓库，仓库名必须为自己 GitHub 用户名，例如下图为rento666，然后添加一个README.md文件，我们只需向这个文件添加需要的信息即可。\n如下图所示，图中没有勾选Add a README file，推荐勾选上（勾选上就省去自己手动创建了），此时点击创建，即为创建成功。\nrento666/rento666 是一个 ✨ 特殊 ✨ 存储库，您可以用它来将 README.md 添加到您的 GitHub 个人资料中。确保它是公开的，并使用 README 对其进行初始化以开始使用。 创建仓库时的信息\r编辑 README 下面是编辑 README.md 文件的界面：\nREADME文件初始内容\r让我们开始吧 可以在 README 中添加的内容可以是自己的介绍、开源项目、个人信息、博客、简历等。\nMarkdown 扩展性很高、支持 HTML、Emoji 等，所以可以定制自己独一无二的主页~\n不过人的精力是有限的，所以我们可以将自己认为好的模板 Fork 到自己仓库，然后修改为自己的风格。\n分享一下优秀合集：\nawesome-github-profile-readme | Github\nawesome-github-profiles | Github\nbeautify-github-profile | Github\nawesome github profile readme chinese | Github\nawesome-github-profile-readme-templates | Github\n我的主页 因为我喜欢看双城之战，所以用到了动漫里的图片，主页截图如下(长截图，加载可能较慢)：\n我的Github主页\r修改 在我的主页中，我使用了以下模板，您可以复制到自己的README.md文件中：\n第一步，复制 README： README内容如下 (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 ### Hey \u0026lt;img src=\u0026#34;https://media.giphy.com/media/hvRJCLFzcasrR4ia7z/giphy.gif\u0026#34; width=\u0026#34;25px\u0026#34;\u0026gt;，I’m Rento ![Typing SVG](https://readme-typing-svg.demolab.com/?lines=欢迎+来到+我的+Github+主页;很荣幸+能够+帮到你) \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td valign=\u0026#34;center\u0026#34; width=\u0026#34;30%\u0026#34;\u0026gt; - 🤖 我最喜欢的动漫：双城之战 - 👨‍💻 我了解Golang、Node.js、Java、React、Vue、Uni APP、React Native、Unity(C#)等等... - ✍️ [欢迎参观我的博客](https://cai-hong-tu-blog.pages.dev/) - 💬 保持思考 - 📫 联系我: [邮箱联系](mailto:putongruwo@outlook.com) - 👏 关注我: [![](https://img.shields.io/github/followers/rento666?label=关注我\u0026amp;style=social)](https://github.com/rento666/) - 🎣 兴趣：读[阮一峰的网络日志](https://www.ruanyifeng.com/blog/)，写[自己的博客](https://cai-hong-tu-blog.pages.dev/)，刷[Youtube](https://www.youtube.com/@caihongtu) **「天天开心」** ❤️ \u0026lt;/td\u0026gt; \u0026lt;td valign=\u0026#34;center\u0026#34; width=\u0026#34;100%\u0026#34; height=\u0026#34;100%\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://github.com/user-attachments/assets/7e018694-352d-494a-9a22-89d7d21f52b6\u0026#34; width=\u0026#34;703\u0026#34; height=\u0026#34;300\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;hr/\u0026gt; 🏆 **我的 GitHub 统计信息:** |![](https://github-readme-stats.vercel.app/api?username=rento666)|![我最常用的编程语言](https://github-readme-stats.vercel.app/api/top-langs/?username=rento666\u0026amp;layout=compact\u0026amp;hide_border=true\u0026amp;langs_count=10)| |-|-| \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td valign=\u0026#34;center\u0026#34; width=\u0026#34;50%\u0026#34;\u0026gt; #### 🐍 贡献 \u0026lt;picture\u0026gt; \u0026lt;source media=\u0026#34;(prefers-color-scheme: dark)\u0026#34; srcset=\u0026#34;https://raw.githubusercontent.com/rento666/rento666/output/github-contribution-grid-snake-dark.svg\u0026#34;\u0026gt; \u0026lt;source media=\u0026#34;(prefers-color-scheme: light)\u0026#34; srcset=\u0026#34;https://raw.githubusercontent.com/rento666/rento666/output/github-contribution-grid-snake.svg\u0026#34;\u0026gt; \u0026lt;img alt=\u0026#34;github contribution grid snake animation\u0026#34; src=\u0026#34;https://raw.githubusercontent.com/rento666/rento666/output/github-contribution-grid-snake.svg\u0026#34;\u0026gt; \u0026lt;/picture\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td valign=\u0026#34;center\u0026#34; width=\u0026#34;50%\u0026#34;\u0026gt; 📕 \u0026amp;nbsp;[**我的最新博客**](https://cai-hong-tu-blog.pages.dev/) \u0026lt;!-- BLOG-POST-LIST:START --\u0026gt; \u0026lt;!-- BLOG-POST-LIST:END --\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; 第二步，复制好之后，按CTRL+F，自行替换姓名、用户名、兴趣爱好、博客链接等信息。\n第三步，修改好 README.md 之后呢，在仓库里点击 Actions 创建 workflow（工作流），如下图所示：\n点击Actions来创建workflow\r进去之后，点Simple workflow的Configure, 如下图所示：\n点击Configure\r添加如下代码（需要分开，别放到一个文件里）：\n贪吃蛇workflow (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 name: generate animation on: # run automatically every 2 hours schedule: - cron: \u0026#34;0 */2 * * *\u0026#34; # allows to manually run the job at any time workflow_dispatch: # run on every push on the master branch push: branches: - master jobs: generate: permissions: contents: write runs-on: ubuntu-latest timeout-minutes: 5 steps: # generates a snake game from a github user (\u0026lt;github_user_name\u0026gt;) contributions graph, output a svg animation at \u0026lt;svg_out_path\u0026gt; - name: generate github-contribution-grid-snake.svg uses: Platane/snk/svg-only@v3 with: github_user_name: ${{ github.repository_owner }} outputs: | dist/github-contribution-grid-snake.svg dist/github-contribution-grid-snake-dark.svg?palette=github-dark # push the content of \u0026lt;build_dir\u0026gt; to a branch # the content will be available at https://raw.githubusercontent.com/\u0026lt;github_user\u0026gt;/\u0026lt;repository\u0026gt;/\u0026lt;target_branch\u0026gt;/\u0026lt;file\u0026gt; , or as github page - name: push github-contribution-grid-snake.svg to the output branch uses: crazy-max/ghaction-github-pages@v3.1.0 with: target_branch: output build_dir: dist env: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 请注意，下面那个博客 workflow，需要将feed_list更换为自己的博客 RSS 地址。 如果你也是使用的 Hugo，并且主题是 Stack，那么 RSS 地址应该为https://你的博客地址/index.xml\n获取最新博客workflow (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 name: Latest blog post workflow on: schedule: # Run workflow automatically - cron: \u0026#39;0 */2 * * *\u0026#39; # Runs every hour, on the hour workflow_dispatch: # Run workflow manually (without waiting for the cron to be called), through the GitHub Actions Workflow page directly permissions: contents: write # To write the generated contents to the readme jobs: update-readme-with-blog: name: Update this repo\u0026#39;s README with latest blog posts runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v3 - name: Pull in blog\u0026#39;s posts uses: gautamkrishnar/blog-post-workflow@v1 with: feed_list: \u0026#34;https://cai-hong-tu-blog.pages.dev/index.xml\u0026#34; template: \u0026#34;\u0026lt;div\u0026gt;\u0026lt;a href=\\\u0026#34;$url\\\u0026#34;\u0026gt;$title $date\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026#34; date_format: \u0026#34;yyyy-mm-dd\u0026#34; Star 趋势图 在自己开源项目根目录下的README.md文件中，添加如下代码即可：\n其中，自己GitHub用户名需要替换为自己的 Github 用户名，例如下图为rento666. 开源项目仓库名需要替换为自己的开源项目仓库名，下图为My-Blog-By-Hugo-stack。 Star趋势图代码 (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;picture\u0026gt; \u0026lt;source media=\u0026#34;(prefers-color-scheme: dark)\u0026#34; srcset=\u0026#34; https://api.star-history.com/svg?repos=自己GitHub用户名/开源项目仓库名\u0026amp;type=Date\u0026amp;theme=dark \u0026#34; /\u0026gt; \u0026lt;source media=\u0026#34;(prefers-color-scheme: light)\u0026#34; srcset=\u0026#34; https://api.star-history.com/svg?repos=自己GitHub用户名/开源项目仓库名\u0026amp;type=Date \u0026#34; /\u0026gt; \u0026lt;img alt=\u0026#34;Star History Chart\u0026#34; src=\u0026#34;https://api.star-history.com/svg?repos=自己GitHub用户名/开源项目仓库名\u0026amp;type=Date\u0026#34; /\u0026gt; \u0026lt;/picture\u0026gt; 不确定两个名称的，可参考如下图所示寻找：\n图示箭头指向用户名+项目仓库名\r附录 参考 超详细的 GitHub 个人主页美化教程 | peterjxl 博客 Hugo 对 Markdown 支持情况测试 | Github-Pages 部署的博客，作者：edward852 Github 开源项目 Star 趋势图 | Github 版权信息 本文原载于 彩虹兔の博客，遵循 CC BY-NC-SA 4.0 协议，复制请保留原文出处。\n","date":"2024-11-14T22:49:27+08:00","image":"https://picsum.photos/800/600.webp?random=1234","permalink":"http://localhost:1313/2024/github-profile/","title":"GitHub 个人主页 README 美化 \u0026 Star 趋势图"},{"content":"引言（2024.11.15 更新） 最近想重新拾起写博客的习惯，但是发现之前的Hexo 博客 | (Github-Pages)有点花里胡哨的，找了半天，发现这个Hugo | (Github)的Stack 主题 | (Github)挺符合我审美的，就决定用 Hugo 来写博客。\n有以下几点需要注意：\n我使用的版本是Hugo-stack 主题-魔改版 | (Github)。 由于这个版本(截至目前为止)已经两年没有更新了(上次更新时间为 2022 年)，所以对于最新版本的 Hugo，执行hugo server可能会报错，需要自己复制出错原因，询问 AI（如 ChatGPT 等）去解决报错。 使用方式（MarkDown 语法） 可收缩代码块 这是标题 (点击展开收缩) 1 2 3 4 5 6 7 // 去掉 % 前面的 \\ {{\\% spoiler %}} 内容 {{\\% /spoiler \u0026#34;这是标题\u0026#34; %}} // 去掉 % 前面的 \\ 使用 i18n 文件中的值 须知：\n我的i18n文件夹在.\\themes\\stack\\i18n目录下。 下面我将拿主页的欢迎语为例，讲述一下如何适配多语言：\n欢迎语\r这个欢迎语的html模板在.\\layouts\\index.html中，位于{{ $pag := .Paginate ($filtered) }}之下。\n这是html模板 (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 \u0026lt;!-- 首页欢迎字幅板块 --\u0026gt; \u0026lt;div class=\u0026#34;welcome\u0026#34;\u0026gt; \u0026lt;p style=\u0026#34;font-size: 2rem; text-align: center; font-weight: bold\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;shake\u0026#34;\u0026gt;{{ T \u0026#34;welcome.emoji\u0026#34; }}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text1\u0026#34;\u0026gt; {{ T \u0026#34;welcome.msg1\u0026#34; }} \u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text2\u0026#34;\u0026gt; {{ T \u0026#34;welcome.msg2\u0026#34; }} \u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text3\u0026#34; style=\u0026#34;color: #e99312\u0026#34;\u0026gt; {{ .Site.Title }} \u0026lt;/span\u0026gt; \u0026lt;!-- \u0026lt;span class=\u0026#34;jump-text3\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;Ca\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026#34;jump-text4\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text5\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;Ho\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026#34;jump-text6\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;ng\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text7\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;Tu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text8\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;\u0026#39;s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;jump-text9\u0026#34; style=\u0026#34;color:#e99312\u0026#34;\u0026gt;Blog\u0026lt;/span\u0026gt; --\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;p style=\u0026#34;font-size: 1.5rem; text-align: center; font-weight: bold\u0026#34;\u0026gt; \u0026lt;span \u0026gt;{{ T \u0026#34;welcome.currentText\u0026#34; }}: \u0026lt;a href=\u0026#34;{{ .Site.BaseURL }}\u0026#34; \u0026gt;{{ .Site.BaseURL | strings.TrimPrefix \u0026#34;http://\u0026#34; | strings.TrimPrefix \u0026#34;https://\u0026#34; | strings.TrimSuffix \u0026#34;/\u0026#34; }}\u0026lt;/a \u0026gt;\u0026lt;/span \u0026gt;\u0026amp;emsp;\u0026amp;emsp; \u0026lt;span \u0026gt;{{ T \u0026#34;welcome.permanentText\u0026#34; }}: \u0026lt;a href=\u0026#34;https://cai-hong-tu-blog.pages.dev\u0026#34; \u0026gt;cai-hong-tu-blog.pages.dev\u0026lt;/a \u0026gt;\u0026lt;/span \u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- ------首页欢迎字幅板块------ --\u0026gt; {{ T \u0026quot;welcome.emoji\u0026quot; }} 都是我在.\\themes\\stack\\i18n文件夹下的xxx.yaml文件中定义的变量（xxx 代表多语言）. 这是zh-CN.yaml文件中的配置 (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 11 12 13 welcome: emoji: other: 👋 msg1: other: 欢迎 msg2: other: 来到 permanentText: other: 永久博客链接 currentText: other: 当前博客链接 top: other: 回到顶部 {{.Site.BaseURL }} 是我在.\\config\\_default\\hugo.yaml文件中定义的变量。(我使用了多语言配置 config，默认应该是./config.yaml) hugo.yaml前几行的 (点击展开收缩) 1 2 3 4 baseurl: https://caihongtu.asia/ languageCode: zh-cn theme: stack title: 彩虹兔の博客 常识（对我来说需要记在这里） HTML 字符集——空格 空格：\u0026amp;nbsp; 按下space键出来的，宽度受字体影响。 空格：\u0026amp;ensp; 宽度为$\\frac{1}{2}$个中文宽度，不受字体影响。 空格：\u0026amp;emsp; 宽度为 1 个中文宽度，不受字体影响。 点击 a 标签打开新窗口 在 a 标签中添加target=\u0026quot;_blank\u0026quot;属性即可。\n1 \u0026lt;a href=\u0026#34;你的链接\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; 未解决问题（随时更新） 以下问题是在hugo v0.138.0的基础上出现的（可能是我不会操作/doge）。 如何查看hugo版本？ (点击展开收缩) 在 cmd 中输入hugo version\n1 输出：hugo v0.138.0-ad82998d54b3f9f8c2741b67356813b55b3134b9+extended+withdeploy windows/amd64 BuildDate=2024-11-06T11:22:34Z VendorInfo=gohugoio categories 的多语言适配 我尝试了在./content/categories目录下的test文件中，使用_index.md和_index.en.md，结果并不是我预想的那样，在首页分类处，只能显示为test或者测试，并没有多语言适配。\n图示右侧栏不适配多语言\r起初目录结构 (点击展开收缩) 1 2 3 4 5 6 7 8 ├─content │ ├─categories │ │ _index.en.md │ │ _index.md │ │ │ └─test │ │ _index.md │ └─ _index.en.md 最终只能将test、测试两个目录分开配置：\n最终目录结构 (点击展开收缩) 1 2 3 4 5 6 7 8 9 10 ├─content │ ├─categories │ │ │ _index.en.md │ │ │ _index.md │ │ │ │ │ ├─test │ │ │ _index.en.md │ │ │ │ │ └─测试 │ │ _index.md 如图所示： 目录结构\r附录 用到的第三方 picsum |随机图片 SM.MS | 图床 参考 Hugo 对 Markdown 支持情况测试 | 博客\nStack 主题的自定义 | 博客\n版权信息 本文原载于 彩虹兔の博客，遵循 CC BY-NC-SA 4.0 协议，复制请保留原文出处。\n结尾 ","date":"2024-11-14T15:13:23+08:00","image":"https://picsum.photos/800/600.webp?random=2131","permalink":"http://localhost:1313/2024/must-read-content-for-blogging/","title":"写博客之必读内容"}]